<!DOCTYPE HTML>
<html id="theme">

<head>
    <link rel="stylesheet" href="stylesheet.css" />
    <meta charset="UTF-8">
</head>

<body>

    <p id="result">0</p>
    <p style="position:fixed; left:42%; top:25%;">
        <button class="operators" onclick="squareRoot()">sqrt</button>
        <button class="operators" onclick="clickOperator('%')">%</button>
        <button class="operators" onclick="changeNegPos()">+/-</button>
        <button class="operators" onclick="clickOperator('/')">/</button><br><br>
        <button class="keys" onclick="clickNumber('7')">7</button>
        <button class="keys" onclick="clickNumber('8')">8</button>
        <button class="keys" onclick="clickNumber('9')">9</button>
        <button class="operators" onclick="clickOperator('*')">X</button><br><br>
        <button class="keys" onclick="clickNumber('4')">4</button>
        <button class="keys" onclick="clickNumber('5')">5</button>
        <button class="keys" onclick="clickNumber('6')">6</button>
        <button class="operators" onclick="clickOperator('-')">-</button><br><br>
        <button class="keys" onclick="clickNumber('1')">1</button>
        <button class="keys" onclick="clickNumber('2')">2</button>
        <button class="keys" onclick="clickNumber('3')">3</button>
        <button class="operators" onclick="clickOperator('+')">+</button><br><br>
        <button class="keys" onclick="clickNumber('0')">0</button>
        <button class="keys" onclick="addDecimal()">.</button>
        <button class="keys" onclick="clearCalc()" id="reset">AC</button>
        <button class="keys" onclick="findResult()" id="equals">=</button>

    </p>

    <script>

        let currentNumber = 0;
        let firstOperand = 0;
        let operator = "";
        let secondOperand = 0;

        function clickNumber(val) {
            if (operator.length === 0) {
                firstOperand = parseFloat(firstOperand + val);
                document.getElementById("result").innerHTML = firstOperand;
            }
            else if (operator.length > 0) {
                secondOperand = parseFloat(secondOperand + val);
                document.getElementById("result").innerHTML = secondOperand;

            }
        }

        function clickOperator(op) {
            if (operator.length === 0) {
                operator = op;
            } else {
                findResult();
                firstOperand = currentNumber;
                secondOperand = 0;
                operator = op;
            }
        }

        function clearCalc() {
            currentNumber = 0;
            firstOperand = 0;
            operator = "";
            secondOperand = 0;
            document.getElementById("result").innerHTML = 0;
        }

        function addDecimal() {
            if (operator.length === 0) {
                firstOperand += ".";
                document.getElementById("result").innerHTML = firstOperand;
            }
            else if (operator.length > 0) {
                secondOperand += ".";
                document.getElementById("result").innerHTML = secondOperand;
            }
        }

        function changeNegPos() {
            if (operator.length === 0) {
                let temporaryNumber = firstOperand.toString();
                if (temporaryNumber.charAt(0) === "-") {
                    firstOperand = Math.abs(firstOperand);
                } else {
                    firstOperand = -firstOperand;
                }
                document.getElementById("result").innerHTML = firstOperand;
            }
            if (operator.length > 0) {
                let temporaryNumber = secondOperand.toString()
                if (temporaryNumber.charAt(0) === "-") {
                    secondOperand = Math.abs(secondOperand);
                } else {
                    secondOperand = -secondOperand;
                }
                document.getElementById("result").innerHTML = secondOperand;
            }
        }

        function squareRoot() {
            if (secondOperand > 0) {
                findResult();
                currentNumber = Math.sqrt(currentNumber);
                document.getElementById("result").innerHTML = currentNumber;
            } else {
                currentNumber = Math.sqrt(firstOperand);
                document.getElementById("result").innerHTML = currentNumber;
            }
        }

        function findResult() {
            if (operator === "+") {
                currentNumber = firstOperand + secondOperand;
            }
            else if (operator === "-") {
                currentNumber = firstOperand - secondOperand;
            }
            else if (operator === "*") {
                currentNumber = firstOperand * secondOperand;
            }
            else if (operator === "/") {
                currentNumber = firstOperand / secondOperand;
            }
            else if (operator === "%") {
                currentNumber = firstOperand * secondOperand / 100;
            }
            else {
                alert("You haven't made any changes!");
            }
            document.getElementById("result").innerHTML = currentNumber;
            firstOperand = 0;
            secondOperand = 0;
            operator = "";
        }

    </script>

</body>

</html>