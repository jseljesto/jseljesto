<!DOCTYPE HTML>
<html id="theme">
    <head>
        <link rel="stylesheet" href="stylesheet.css" />
        <meta charset="UTF-8">
    </head>
    <body>

        <p id="result">0</p>
        <p style="position:fixed; left:42%; top:25%;">
            <button class="operators" onclick="squareRoot()">sqrt</button>
            <button class="operators" onclick="clickOperator('%')">%</button>
            <button class="operators" onclick="changeNegPos()">+/-</button>
            <button class="operators" onclick="clickOperator('/')">/</button><br><br>
            <button class="keys" onclick="clickNumber('7')">7</button>
            <button class="keys" onclick="clickNumber('8')">8</button>
            <button class="keys" onclick="clickNumber('9')">9</button>
            <button class="operators" onclick="clickOperator('*')">X</button><br><br>
            <button class="keys" onclick="clickNumber('4')">4</button>
            <button class="keys" onclick="clickNumber('5')">5</button>
            <button class="keys" onclick="clickNumber('6')">6</button>
            <button class="operators" onclick="clickOperator('-')">-</button><br><br>
            <button class="keys" onclick="clickNumber('1')">1</button>
            <button class="keys" onclick="clickNumber('2')">2</button>
            <button class="keys" onclick="clickNumber('3')">3</button>
            <button class="operators" onclick="clickOperator('+')">+</button><br><br>
            <button class="keys" onclick="clickNumber('0')">0</button>
            <button class="keys" onclick="addDecimal()">.</button>
            <button class="keys" onclick="clearCalc()" id="reset">AC</button>
            <button class="keys" onclick="findResult()" id="equals">=</button>

        </p>

    <script>

        let currentNumber = 0;
        let firstNumber = 0;
        let operator = "";
        let secondNumber = 0;

        function clickNumber(val) {
            if (operator.length === 0) {
                firstNumber = parseFloat(firstNumber + val);
                document.getElementById("result").innerHTML = firstNumber;
            }
            else if (operator.length > 0) {
                secondNumber = parseFloat(secondNumber + val);
                document.getElementById("result").innerHTML = secondNumber;

            } else {

            }
        }

        function clickOperator(op) {
            if (operator.length === 0) { 
                operator = op;
            } else {
                findResult();
                firstNumber = currentNumber;
                secondNumber = 0;
                operator = op;
            }

        }

        function clearCalc() {
            currentNumber = 0;
            firstNumber = 0;
            operator = "";
            secondNumber = 0;
            document.getElementById("result").innerHTML = 0;
        }

        function addDecimal() {
            if (operator.length === 0) {
                firstNumber += ".";
                document.getElementById("result").innerHTML = firstNumber;

            }
            else if (operator.length > 0) {
                secondNumber += ".";
                document.getElementById("result").innerHTML = secondNumber;

            }

        }

        function changeNegPos() {
            if (operator.length === 0) {
                let temporaryNumber = firstNumber.toString();
                if(temporaryNumber.charAt(0) === "-") {
                    firstNumber = Math.abs(firstNumber);
                } else {
                    firstNumber = firstNumber * -1;
                }
                document.getElementById("result").innerHTML = firstNumber;
            }
            if (operator.length > 0) {
                let temporaryNumber = secondNumber.toString()
                if(temporaryNumber.charAt(0) === "-") {
                    secondNumber = Math.abs(secondNumber);
                } else {
                    secondNumber = secondNumber * -1;
                }
                document.getElementById("result").innerHTML = secondNumber;
            }
        }

        function squareRoot() {
            if (secondNumber > 0) {
                findResult();
                currentNumber = Math.sqrt(currentNumber);
                document.getElementById("result").innerHTML = currentNumber;
            } else {
            currentNumber = Math.sqrt(firstNumber);
            document.getElementById("result").innerHTML = currentNumber;
            }
        }

        function findResult() {
            if (operator === "+") {
                currentNumber = firstNumber + secondNumber;
            }
             else if (operator === "-") {
                currentNumber = firstNumber - secondNumber;
            }
            else if (operator === "*") {
                currentNumber = firstNumber * secondNumber;
            }
            else if (operator === "/") {
                currentNumber = firstNumber / secondNumber;
            }
            else if (operator === "%") {
                currentNumber = firstNumber * secondNumber / 100;
            }
            else {
                alert("You haven't made any changes!");
            }
            document.getElementById("result").innerHTML = currentNumber;
            firstNumber = 0;
            secondNumber = 0;
            operator = "";
        }

    </script>

    </body>
</html>