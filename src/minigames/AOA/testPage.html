<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
  <script>
    mocha.setup('bdd');
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
  <script>
    let assert = chai.assert;
  </script>
</head>

<body>
  <p id="chosenName" style="position: absolute; right: 700px; top: 200px">Name: </p>
  <p id="chosenTypes" style="position: absolute; right: 700px; top: 250px">Race & Class: </p>
  <p id="chosenVIT" style="position: absolute; right: 700px; top: 270px">VIT: </p>
  <p id="chosenSTR" style="position: absolute; right: 700px; top: 290px">STR: </p>
  <p id="chosenWIS" style="position: absolute; right: 700px; top: 310px">WIS: </p>
  <p id="chosenDEX" style="position: absolute; right: 700px; top: 330px">DEX: </p>
  <p id="chosenSPE" style="position: absolute; right: 700px; top: 350px">SPE: </p>
  <p id="chosenHP" style="position: absolute; right: 700px; top: 390px">HP: </p>
  <p id="chosenMP" style="position: absolute; right: 700px; top: 410px">MP: </p>
  <button onclick="startBattle()" id="battleTest" style="position: absolute; top: 5%; right: 5%">To Battle</button>

  <p id="player1Name" style="visibility: visible; position: absolute; left: 100px; top: 100px;"></p>
  <p id="player1HP" class="statBar" style="visibility: visible; position: absolute; left: 100px; top: 150px;"></p>
  <p id="player1curHP" class="remainingValues"
    style="visibility: visible; position: absolute; left: 100px; top: 150px;"></p>
  <p id="player1HPNumber" style="visibility: visible; position: absolute; left: 310px; top: 150px;"></p>
  <p id="player1MP" class="statBar" style="visibility: visible; position: absolute; left: 100px; top: 200px;"></p>
  <p id="player1curMP" class="remainingValues"
    style="visibility: visible; position: absolute; left: 100px; top: 200px; background-color: blue;"></p>
  <p id="player1MPNumber" style="visibility: visible; position: absolute; left: 310px; top: 200px;"></p>
  <p id="enemy1Name" style="visibility: visible; position: absolute; right: 300px; top: 100px;"></p>
  <p id="enemy1HP" class="statBar" style="visibility: visible; position: absolute; right: 100px; top: 150px;"></p>
  <p id="enemy1curHP" class="remainingValues"
    style="visibility: visible; position: absolute; right: 100px; top: 150px;"></p>
  <p id="enemy1HPNumber" style="visibility: visible; position: absolute; right: 310px; top: 150px;"></p>
  <p id="enemy1MP" class="statBar" style="visibility: visible; position: absolute; right: 100px; top: 200px;"></p>
  <p id="enemy1curMP" class="remainingValues"
    style="visibility: visible; position: absolute; right: 100px; top: 200px; background-color: blue;"></p>
  <p id="enemy1MPNumber" style="visibility: visible; position: absolute; right: 310px; top: 200px;"></p>
  <p id="enemy2Name" style="visibility: visible; position: absolute; right: 300px; top: 300px;"></p>
  <p id="enemy2HP" class="statBar" style="visibility: visible; position: absolute; right: 100px; top: 350px;"></p>
  <p id="enemy2curHP" class="remainingValues"
    style="visibility: visible; position: absolute; right: 100px; top: 350px;"></p>
  <p id="enemy2HPNumber" style="visibility: visible; position: absolute; right: 310px; top: 350px;"></p>
  <p id="enemy2MP" class="statBar" style="visibility: visible; position: absolute; right: 100px; top: 400px;"></p>
  <p id="enemy2curMP" class="remainingValues"
    style="visibility: visible; position: absolute; right: 100px; top: 400px; background-color: blue;"></p>
  <p id="enemy2MPNumber" style="visibility: visible; position: absolute; right: 310px; top: 400px;"></p>

  <button id="playerAbilities" class="menuButtons" onmousedown="buttonClicked(this)" onmouseup="buttonUnclicked(this)"
    onclick="showMoves(currentPlayer)"
    style="position: absolute; visibility: visible; bottom: 8%; left: 10px;">Abilities</button>
  <button id="playerItems" class="menuButtons" onmousedown="buttonClicked(this)" onmouseup="buttonUnclicked(this)"
    style="position: absolute; visibility: visible; bottom: 5%; left: 10px;">Items</button>
  <button id="goBack" class="menuButtons" onmousedown="buttonClicked(this)" onmouseup="buttonUnclicked(this)"
    onclick="returnToBattleMenu() "
    style="position: absolute; visibility: visible; bottom: 5%; left: 10px;">Back</button>
  <button id="playerFlee" class="menuButtons" onmousedown="buttonClicked(this)" onmouseup="buttonUnclicked(this)"
    onclick="toMenu()" style="position: absolute; visibility: visible; bottom: 2%; left: 10px;">Flee</button>
  <button onclick="startBattle()" id="battleTest" style="position: absolute; top: 5%; right: 5%">To Battle</button>

  <script src="battleScreen.js"></script>
  <script src="character.js"></script>
  <script src="move.js"></script>
  <script src="monster.js"></script>
  <script src="levels.js"></script>
  <script> //Functions to test

    let currentCharacters = [];
    let amountOfCharacters = 0;
    amountOfMonsters = 2;
    let player1 = new Character("", "", "", 0, 0, 0, 0, 0, 1, 0, 1000, 0, 0, 0, 0, ["Normal Strike"]);
    amountOfCharacters++;
    currentCharacters.push(player1);

    //First playable character.

    function hideMap() {
      document.body.style.background = "white";
      //fabCanvas.clear();

      document.getElementById("chosenName").style.visibility = "hidden";
      document.getElementById("chosenTypes").style.visibility = "hidden";
      document.getElementById("chosenVIT").style.visibility = "hidden";
      document.getElementById("chosenSTR").style.visibility = "hidden";
      document.getElementById("chosenWIS").style.visibility = "hidden";
      document.getElementById("chosenDEX").style.visibility = "hidden";
      document.getElementById("chosenSPE").style.visibility = "hidden";
      document.getElementById("chosenHP").style.visibility = "hidden";
      document.getElementById("chosenMP").style.visibility = "hidden";
      document.getElementById("battleTest").style.visibility = "hidden";
    }

    function unhideMap() {
      document.getElementById("chosenName").style.visibility = "visible";
      document.getElementById("chosenTypes").style.visibility = "visible";
      document.getElementById("chosenVIT").style.visibility = "visible";
      document.getElementById("chosenSTR").style.visibility = "visible";
      document.getElementById("chosenWIS").style.visibility = "visible";
      document.getElementById("chosenDEX").style.visibility = "visible";
      document.getElementById("chosenSPE").style.visibility = "visible";
      document.getElementById("chosenHP").style.visibility = "visible";
      document.getElementById("chosenMP").style.visibility = "visible";
      document.getElementById("battleTest").style.visibility = "visible";
    }

    function hideBattleScreen() {
      for (let i = 1; i <= amountOfCharacters; i++) {
        document.getElementById("player" + i + "HP").style.visibility = "hidden";
        document.getElementById("player" + i + "MP").style.visibility = "hidden";
        document.getElementById("player" + i + "curHP").style.visibility = "hidden";
        document.getElementById("player" + i + "curMP").style.visibility = "hidden";
        document.getElementById("player" + i + "HPNumber").style.visibility = "hidden";
        document.getElementById("player" + i + "MPNumber").style.visibility = "hidden";
        document.getElementById("player" + i + "Name").style.visibility = "hidden";
      }
      for (let j = 1; j <= amountOfMonsters; j++) {
        document.getElementById("enemy" + j + "HP").style.visibility = "hidden";
        document.getElementById("enemy" + j + "MP").style.visibility = "hidden";
        document.getElementById("enemy" + j + "curHP").style.visibility = "hidden";
        document.getElementById("enemy" + j + "curMP").style.visibility = "hidden";
        document.getElementById("enemy" + j + "HPNumber").style.visibility = "hidden";
        document.getElementById("enemy" + j + "MPNumber").style.visibility = "hidden";
        document.getElementById("enemy" + j + "Name").style.visibility = "hidden";
      }

      document.getElementById("playerAbilities").style.visibility = "hidden";
      document.getElementById("playerItems").style.visibility = "hidden";
      document.getElementById("playerFlee").style.visibility = "hidden";
      document.getElementById("goBack").style.visibility = "hidden";
    }

    function addStats() {
    for (let i = 1; i <= amountOfCharacters; i++) {
        document.getElementById("player" + i + "HPNumber").innerHTML = currentCharacters[i - 1].hpLeft + "/" + currentCharacters[i - 1].hp;
        document.getElementById("player" + i + "MPNumber").innerHTML = currentCharacters[i - 1].mpLeft + "/" + currentCharacters[i - 1].mp;
        document.getElementById("player" + i + "Name").innerHTML = currentCharacters[i - 1].name;
    }
    for (let j = 1; j <= amountOfMonsters; j++) {
        document.getElementById("enemy" + j + "HPNumber").innerHTML = currentMonsters[j - 1].hpLeft + "/" + currentMonsters[j - 1].hp;
        document.getElementById("enemy" + j + "MPNumber").innerHTML = currentMonsters[j - 1].mpLeft + "/" + currentMonsters[j - 1].mp;
        document.getElementById("enemy" + j + "Name").innerHTML = currentMonsters[j - 1].name;
    }
}
  </script>

  <script src="tests.js"></script>

  <div id="mocha"></div>
  <script>
    mocha.run();
  </script>
</body>

</html>